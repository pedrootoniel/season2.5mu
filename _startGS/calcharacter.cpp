#include "stdafx.h"

void iniciar_full_calcharacter()
{
	//----------------------------
	*(BYTE*)(0x004C2BD3+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_01", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2BEA+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_02", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2C02+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_03", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2C19+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_04", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004C2C33+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_05", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2C40+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_06", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2C56+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_07", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2C64+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_08", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2C7B+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_09", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2C88+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_10", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2C9E+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_11", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2CAC+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_12", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004C2CC8+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_13", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2CDF+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_14", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2CF7+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_15", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2D0E+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_16", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004C2D39+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_17", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2D4D+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_18", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2D62+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_19", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2D76+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_20", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004C2DA5+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_21", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2DB2+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_22", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2DC8+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_23", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2DD6+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_24", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2DED+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_25", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2DFA+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_26", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2E10+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_27", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2E1E+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_28", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004C2E4F+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_29", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2E5C+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_30", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2E72+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_31", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2E7F+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_32", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2E95+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_33", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2EA2+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_34", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2EB8+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_35", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C2EC5+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_36", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C2EDD+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_37", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2EF2+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_38", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2F07+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_39", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C2F1C+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_40", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004C3436+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_41", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C344A+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_42", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C3485+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_43", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3499+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_44", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C34C0+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_45", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C34D4+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_46", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C34EA+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_47", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C34FE+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_48", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C3882+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_49", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3886+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_50", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C38AA+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_51", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C38AE+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_52", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C38D2+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_53", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C38D6+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_54", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C38FA+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_55", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C38FE+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_56", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3922+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_57", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3926+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_58", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C394A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_59", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C394E+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_60", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3972+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_61", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3987+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_62", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C3A5C+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_63", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C3A84+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_64", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3A9A+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_65", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C3EB5+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_66", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3EDC+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_67", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3F03+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_68", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C3F19+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_69", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004C4C53+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_70", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C4C57+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_71", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C4C70+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_72", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C4C74+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_73", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C4C8D+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_74", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C4C91+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_75", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C4CAA+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_76", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C4CAE+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_77", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004B6E8F+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_78", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004B6E9C+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_79", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004B6EA0+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_80", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004B6ED2+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_81", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004B6F0B+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_82", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004B6F18+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_83", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004B6F1C+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_84", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004B6F4B+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_85", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004B6F58+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_86", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004B6F5C+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_87", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004B6F8A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_88", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004B703F+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_89", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004B707A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_90", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004B70B5+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_91", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	
	int jewelxoptiondis    = iniciar_dll.iniciar_getprivateint("calcharacter","config_92", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	
	if(jewelxoptiondis == 1)
	{
		*(BYTE*)(0x004B70FB+1) = 0x5F;
		iniciar_nopear(0x004B7104, 88);
		//aply strenght harmony
		*(BYTE*)(0x00402950) = 0xC3;
		iniciar_nopear(0x00402950+1, 4);
		//380
		*(BYTE*)(0x00404DBD) = 0xC3;
		iniciar_nopear(0x00404DBD+1, 4);
	}
}


void CalCharacterEx(int aIndex)
{
	OBJECTSTRUCT * lpObj = (OBJECTSTRUCT*)OBJECT_POINTER(aIndex);

	lpObj->DamageReflect	= 0;
	lpObj->DamageMinus		= 0;


	gObjCalCharacter(aIndex);

	PMSG_CHARINFOMAIN Result;

	Result.h.c = 0xC1;
	Result.h.size = sizeof(Result);
	Result.h.headcode = 0xFE;
	Result.Code = 0x07;
	Result.Class = lpObj->Class;
	Result.Dexterity = (WORD)(lpObj->Dexterity);
	Result.AttackSpeed = (WORD)(lpObj->m_AttackSpeed);
	Result.MagicSpeed = (WORD)(lpObj->m_MagicSpeed);

	DataSend(aIndex, (LPBYTE)(&Result), Result.h.size);
}

void gObjCalCharacter_Hook(int aIndex)
{
	gObjCalCharacter(aIndex);
	CalCharacterEx(aIndex);
}
