#include "stdafx.h"

void iniciar_full_calcharacter()
{
	//----------------------------
	*(BYTE*)(0x004D49A3+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_01", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D59BA+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_02", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D49D2+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_03", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D49E9+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_04", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004D4A03+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_05", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4A10+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_06", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4A26+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_07", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4A34+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_08", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4A4B+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_09", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4A58+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_10", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4A6E+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_11", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4A7C+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_12", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004D4A98+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_13", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4AAF+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_14", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4AC7+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_15", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4ADE+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_16", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004D4B09+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_17", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4B1D+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_18", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4B32+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_19", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4B46+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_20", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004D4B75+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_21", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4B82+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_22", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4B98+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_23", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4BA6+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_24", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4BBD+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_25", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4BCA+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_26", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4BE0+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_27", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4BEE+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_28", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004D4C1F+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_29", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4C2C+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_30", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4C42+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_31", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4C4F+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_32", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4C65+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_33", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4C72+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_34", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4C88+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_35", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D4C95+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_36", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004D4CAD+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_37", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4CC2+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_38", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4CD7+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_39", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D4CEC+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_40", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004D5206+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_41", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D521A+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_42", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004D5255+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_43", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D5269+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_44", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004D5290+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_45", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D52A4+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_46", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004D52BA+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_47", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D52CE+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_48", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004D5652+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_49", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D5656+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_50", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D567A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_51", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D567E+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_52", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D56A2+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_53", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D56A6+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_54", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D56CA+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_55", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D56CE+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_56", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D56F2+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_57", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D56F6+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_58", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D571A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_59", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D571E+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_60", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D5742+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_61", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D5757+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_62", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004D582C+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_63", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004D5854+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_64", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D586A+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_65", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004D5C85+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_66", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D5CAC+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_67", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D5CD3+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_68", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D5CE9+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_69", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	*(BYTE*)(0x004D6A23+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_70", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D6A27+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_71", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D6A40+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_72", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D6A44+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_73", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D6A5D+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_74", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D6A61+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_75", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D6A7A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_76", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004D6A7E+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_77", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C887F+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_78", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C888C+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_79", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C8890+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_80", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C88C2+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_81", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C88FB+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_82", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C8908+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_83", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C890C+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_84", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C893B+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_85", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C8948+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_86", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C894C+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_87", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C897A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_88", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	//----------------------------
	*(BYTE*)(0x004C8A2F+1) = iniciar_dll.iniciar_getprivateint("calcharacter","config_89", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	*(BYTE*)(0x004C8A6A+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_90", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	*(BYTE*)(0x004C8AA5+2) = iniciar_dll.iniciar_getprivateint("calcharacter","config_91", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID") - 1;
	//----------------------------
	int jewelxoptiondis    = iniciar_dll.iniciar_getprivateint("calcharacter","config_92", 0, ".\\configurações\\_player.settings\\_settings.calcharacter.ID");
	if(jewelxoptiondis == 1)
	{
		*(BYTE*)(0x004C8AEB+1) = 0x5F;
		iniciar_nopear(0x004C8AF4, 88);
		//aply strenght harmony
		*(BYTE*)(0x00402D97) = 0xC3;
		iniciar_nopear(0x00402D97+1, 4);
		//380
		*(BYTE*)(0x00405097) = 0xC3;
		iniciar_nopear(0x00405097+1, 4);
	}
}

void CalCharacterEx(int aIndex)
{
	OBJECTSTRUCT * lpObj = (OBJECTSTRUCT*)OBJECT_POINTER(aIndex);

	lpObj->DamageReflect	= 0;
	lpObj->DamageMinus		= 0;


	gObjCalCharacter(aIndex);

	PMSG_CHARINFOMAIN Result;

	Result.h.c = 0xC1;
	Result.h.size = sizeof(Result);
	Result.h.headcode = 0xFE;
	Result.Code = 0x07;
	Result.Class = lpObj->Class;
	Result.Dexterity = (WORD)(lpObj->Dexterity);
	Result.AttackSpeed = (WORD)(lpObj->m_AttackSpeed);
	Result.MagicSpeed = (WORD)(lpObj->m_MagicSpeed);

	DataSend(aIndex, (LPBYTE)(&Result), Result.h.size);
}

void gObjCalCharacter_Hook(int aIndex)
{
	gObjCalCharacter(aIndex);
	CalCharacterEx(aIndex);
}